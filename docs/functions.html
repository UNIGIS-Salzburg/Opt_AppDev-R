<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lesson 6 Functions | Automated Data Processing with R</title>
  <meta name="description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Lesson 6 Functions | Automated Data Processing with R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/branding/Cover_epub.png" />
  <meta property="og:description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="github-repo" content="UNIGIS-Salzburg/En_AppDev-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson 6 Functions | Automated Data Processing with R" />
  
  <meta name="twitter:description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="twitter:image" content="/branding/Cover_epub.png" />

<meta name="author" content="Christian Neuwirth &amp; Maximilian Elixhauser" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="branding/unigis_globe_gruen_transparent.png" type="image/x-icon" />
<link rel="prev" href="control-structures.html"/>
<link rel="next" href="datman.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="css/custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://unigis.at/en" target="_blank"><img alt="UNIGIS Salzburg" src="branding/UNIGIS_Salzburg_Schriftlogo_v05.png" width=100%></a></li>
<li><a href="./">Automated Data Processing with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#about-this-module"><i class="fa fa-check"></i><b>1.1</b> About this module</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#r-programming-language"><i class="fa fa-check"></i><b>1.2</b> R programming language</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#installation-and-setup"><i class="fa fa-check"></i><b>1.3</b> Installation and Setup</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#interpreting-values"><i class="fa fa-check"></i><b>1.4</b> Interpreting Values</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#simple-data-types"><i class="fa fa-check"></i><b>1.5</b> Simple Data Types</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#numop"><i class="fa fa-check"></i><b>1.6</b> Numeric operators</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#logical-operators"><i class="fa fa-check"></i><b>1.7</b> Logical operators</a></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#references"><i class="fa fa-check"></i><b>1.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="core.html"><a href="core.html"><i class="fa fa-check"></i><b>2</b> Core Concepts</a>
<ul>
<li class="chapter" data-level="2.1" data-path="core.html"><a href="core.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2" data-path="core.html"><a href="core.html#algorithms-and-functions"><i class="fa fa-check"></i><b>2.2</b> Algorithms and Functions</a></li>
<li class="chapter" data-level="2.3" data-path="core.html"><a href="core.html#libraries"><i class="fa fa-check"></i><b>2.3</b> Libraries</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="DS.html"><a href="DS.html"><i class="fa fa-check"></i><b>3</b> Data Structures</a>
<ul>
<li class="chapter" data-level="3.1" data-path="DS.html"><a href="DS.html#vectors"><i class="fa fa-check"></i><b>3.1</b> Vectors</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="DS.html"><a href="DS.html#vector-element-selection"><i class="fa fa-check"></i><b>3.1.1</b> Vector Element Selection</a></li>
<li class="chapter" data-level="3.1.2" data-path="DS.html"><a href="DS.html#using-the-range-function-with-vectors"><i class="fa fa-check"></i><b>3.1.2</b> Using the range() Function with Vectors</a></li>
<li class="chapter" data-level="3.1.3" data-path="DS.html"><a href="DS.html#applying-functions-to-vectors"><i class="fa fa-check"></i><b>3.1.3</b> Applying Functions to Vectors</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="DS.html"><a href="DS.html#multi-dimensional-data-types"><i class="fa fa-check"></i><b>3.2</b> Multi-dimensional Data Types</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="DS.html"><a href="DS.html#matrices"><i class="fa fa-check"></i><b>3.2.1</b> Matrices</a></li>
<li class="chapter" data-level="3.2.2" data-path="DS.html"><a href="DS.html#arrays"><i class="fa fa-check"></i><b>3.2.2</b> Arrays</a></li>
<li class="chapter" data-level="3.2.3" data-path="DS.html"><a href="DS.html#selection-in-multi-dimensional-data-types"><i class="fa fa-check"></i><b>3.2.3</b> Selection in Multi-Dimensional Data Types</a></li>
<li class="chapter" data-level="3.2.4" data-path="DS.html"><a href="DS.html#lists"><i class="fa fa-check"></i><b>3.2.4</b> Lists</a></li>
<li class="chapter" data-level="3.2.5" data-path="DS.html"><a href="DS.html#data-frame"><i class="fa fa-check"></i><b>3.2.5</b> Data Frame</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="spds.html"><a href="spds.html"><i class="fa fa-check"></i><b>4</b> Spatial Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="spds.html"><a href="spds.html#vector-data-structures"><i class="fa fa-check"></i><b>4.1</b> Vector Data Structures</a></li>
<li class="chapter" data-level="4.2" data-path="spds.html"><a href="spds.html#raster-data-structures"><i class="fa fa-check"></i><b>4.2</b> Raster Data Structures</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="spds.html"><a href="spds.html#working-with-spatraster-objects"><i class="fa fa-check"></i><b>4.2.1</b> Working with SpatRaster objects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>5</b> Control Structures</a>
<ul>
<li class="chapter" data-level="5.1" data-path="control-structures.html"><a href="control-structures.html#if"><i class="fa fa-check"></i><b>5.1</b> If</a></li>
<li class="chapter" data-level="5.2" data-path="control-structures.html"><a href="control-structures.html#else"><i class="fa fa-check"></i><b>5.2</b> Else</a></li>
<li class="chapter" data-level="5.3" data-path="control-structures.html"><a href="control-structures.html#code-blocks"><i class="fa fa-check"></i><b>5.3</b> Code blocks</a></li>
<li class="chapter" data-level="5.4" data-path="control-structures.html"><a href="control-structures.html#loops"><i class="fa fa-check"></i><b>5.4</b> Loops</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="control-structures.html"><a href="control-structures.html#while-and-repeat"><i class="fa fa-check"></i><b>5.4.1</b> While and repeat</a></li>
<li class="chapter" data-level="5.4.2" data-path="control-structures.html"><a href="control-structures.html#for"><i class="fa fa-check"></i><b>5.4.2</b> For</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="control-structures.html"><a href="control-structures.html#loops-with-conditional-statements"><i class="fa fa-check"></i><b>5.5</b> Loops with conditional statements</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="control-structures.html"><a href="control-structures.html#exercise-loops-with-conditional-statements"><i class="fa fa-check"></i><b>5.5.1</b> Exercise: loops with conditional statements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>6</b> Functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="functions.html"><a href="functions.html#defining-functions"><i class="fa fa-check"></i><b>6.1</b> Defining Functions</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="functions.html"><a href="functions.html#understanding-the-return-function"><i class="fa fa-check"></i><b>6.1.1</b> Understanding the <code>return()</code> Function</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="functions.html"><a href="functions.html#more-parameters"><i class="fa fa-check"></i><b>6.2</b> More Parameters</a></li>
<li class="chapter" data-level="6.3" data-path="functions.html"><a href="functions.html#returning-multiple-values"><i class="fa fa-check"></i><b>6.3</b> Returning Multiple Values</a></li>
<li class="chapter" data-level="6.4" data-path="functions.html"><a href="functions.html#functions-and-control-structures"><i class="fa fa-check"></i><b>6.4</b> Functions and Control Structures</a></li>
<li class="chapter" data-level="6.5" data-path="functions.html"><a href="functions.html#scope"><i class="fa fa-check"></i><b>6.5</b> Scope</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="datman.html"><a href="datman.html"><i class="fa fa-check"></i><b>7</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="datman.html"><a href="datman.html#preparation"><i class="fa fa-check"></i><b>7.1</b> Preparation</a></li>
<li class="chapter" data-level="7.2" data-path="datman.html"><a href="datman.html#data-manipulation"><i class="fa fa-check"></i><b>7.2</b> Data manipulation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="datman.html"><a href="datman.html#summarise"><i class="fa fa-check"></i><b>7.2.1</b> Summarise</a></li>
<li class="chapter" data-level="7.2.2" data-path="datman.html"><a href="datman.html#select-and-filter"><i class="fa fa-check"></i><b>7.2.2</b> Select and filter</a></li>
<li class="chapter" data-level="7.2.3" data-path="datman.html"><a href="datman.html#mutate"><i class="fa fa-check"></i><b>7.2.3</b> Mutate</a></li>
<li class="chapter" data-level="7.2.4" data-path="datman.html"><a href="datman.html#arrange"><i class="fa fa-check"></i><b>7.2.4</b> Arrange</a></li>
<li class="chapter" data-level="7.2.5" data-path="datman.html"><a href="datman.html#exercise-data-manipulation"><i class="fa fa-check"></i><b>7.2.5</b> Exercise: data manipulation</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="datman.html"><a href="datman.html#join"><i class="fa fa-check"></i><b>7.3</b> Join</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="datman.html"><a href="datman.html#exercise-join"><i class="fa fa-check"></i><b>7.3.1</b> Exercise: join</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="readwrite.html"><a href="readwrite.html"><i class="fa fa-check"></i><b>8</b> Read and Write Data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="readwrite.html"><a href="readwrite.html#read-and-write-tabular-data"><i class="fa fa-check"></i><b>8.1</b> Read and write tabular data</a></li>
<li class="chapter" data-level="8.2" data-path="readwrite.html"><a href="readwrite.html#read-and-write-vector-data"><i class="fa fa-check"></i><b>8.2</b> Read and write vector data</a></li>
<li class="chapter" data-level="8.3" data-path="readwrite.html"><a href="readwrite.html#read-and-write-raster-data"><i class="fa fa-check"></i><b>8.3</b> Read and write raster data</a></li>
<li class="chapter" data-level="8.4" data-path="readwrite.html"><a href="readwrite.html#data-api"><i class="fa fa-check"></i><b>8.4</b> Data API</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="spm.html"><a href="spm.html"><i class="fa fa-check"></i><b>9</b> Spatial Data Manipulation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="spm.html"><a href="spm.html#data-acquisition"><i class="fa fa-check"></i><b>9.1</b> Data Acquisition</a></li>
<li class="chapter" data-level="9.2" data-path="spm.html"><a href="spm.html#data-cleaning"><i class="fa fa-check"></i><b>9.2</b> Data Cleaning</a></li>
<li class="chapter" data-level="9.3" data-path="spm.html"><a href="spm.html#vector-operations"><i class="fa fa-check"></i><b>9.3</b> Vector operations</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="spm.html"><a href="spm.html#geometrical-operations"><i class="fa fa-check"></i><b>9.3.1</b> Geometrical operations</a></li>
<li class="chapter" data-level="9.3.2" data-path="spm.html"><a href="spm.html#binary-operations"><i class="fa fa-check"></i><b>9.3.2</b> Binary operations</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="spm.html"><a href="spm.html#raster-operations"><i class="fa fa-check"></i><b>9.4</b> Raster operations</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="spm.html"><a href="spm.html#resampling"><i class="fa fa-check"></i><b>9.4.1</b> Resampling</a></li>
<li class="chapter" data-level="9.4.2" data-path="spm.html"><a href="spm.html#crop-raster"><i class="fa fa-check"></i><b>9.4.2</b> Crop raster</a></li>
<li class="chapter" data-level="9.4.3" data-path="spm.html"><a href="spm.html#raster-algebra"><i class="fa fa-check"></i><b>9.4.3</b> Raster algebra</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-viz.html"><a href="data-viz.html"><i class="fa fa-check"></i><b>10</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-viz.html"><a href="data-viz.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>10.1</b> The Grammar of Graphics</a></li>
<li class="chapter" data-level="10.2" data-path="data-viz.html"><a href="data-viz.html#understanding-wide-and-long-data-formats-in-r"><i class="fa fa-check"></i><b>10.2</b> Understanding Wide and Long Data Formats in R</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="data-viz.html"><a href="data-viz.html#wide-format"><i class="fa fa-check"></i><b>10.2.1</b> Wide format</a></li>
<li class="chapter" data-level="10.2.2" data-path="data-viz.html"><a href="data-viz.html#long-format"><i class="fa fa-check"></i><b>10.2.2</b> Long format:</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="data-viz.html"><a href="data-viz.html#visualization-of-distributions"><i class="fa fa-check"></i><b>10.3</b> Visualization of distributions</a></li>
<li class="chapter" data-level="10.4" data-path="data-viz.html"><a href="data-viz.html#boxplots"><i class="fa fa-check"></i><b>10.4</b> Boxplots</a></li>
<li class="chapter" data-level="10.5" data-path="data-viz.html"><a href="data-viz.html#scatterplots"><i class="fa fa-check"></i><b>10.5</b> Scatterplots</a></li>
<li class="chapter" data-level="10.6" data-path="data-viz.html"><a href="data-viz.html#map-visualization"><i class="fa fa-check"></i><b>10.6</b> Map Visualization</a></li>
<li class="chapter" data-level="10.7" data-path="data-viz.html"><a href="data-viz.html#interactive-maps"><i class="fa fa-check"></i><b>10.7</b> Interactive Maps</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="r-markdown.html"><a href="r-markdown.html#set-up-your-work-environment"><i class="fa fa-check"></i><b>11.1</b> Set up your work environment</a></li>
<li class="chapter" data-level="11.2" data-path="r-markdown.html"><a href="r-markdown.html#create-a-local-clone"><i class="fa fa-check"></i><b>11.2</b> Create a local clone</a></li>
<li class="chapter" data-level="11.3" data-path="r-markdown.html"><a href="r-markdown.html#creating-your-first-r-markdown-document"><i class="fa fa-check"></i><b>11.3</b> Creating Your First R Markdown Document</a></li>
<li class="chapter" data-level="11.4" data-path="r-markdown.html"><a href="r-markdown.html#synchronizing-with-github"><i class="fa fa-check"></i><b>11.4</b> Synchronizing with GitHub</a></li>
<li class="chapter" data-level="11.5" data-path="r-markdown.html"><a href="r-markdown.html#basic-r-markdown-syntax"><i class="fa fa-check"></i><b>11.5</b> Basic R Markdown Syntax</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="r-markdown.html"><a href="r-markdown.html#references-in-rmarkdown"><i class="fa fa-check"></i><b>11.5.1</b> References in RMarkdown</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="r-markdown.html"><a href="r-markdown.html#speed-up-your-workflows"><i class="fa fa-check"></i><b>11.6</b> Speed up your workflows</a></li>
<li class="chapter" data-level="11.7" data-path="r-markdown.html"><a href="r-markdown.html#self-study"><i class="fa fa-check"></i><b>11.7</b> Self-study</a></li>
</ul></li>
<li class="divider"></li>
<li>Copyright © UNIGIS Salzburg.</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Automated Data Processing with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functions" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Lesson 6</span> Functions<a href="functions.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h1>

<div class="rmdtip">
In previous lessons, we’ve used various functions (like <code>cat()</code>, <code>print()</code>) without delving deeply into their mechanics. This lesson aims to demystify functions by guiding you through the creation and understanding of custom functions. We’ll also explore the concepts of global and local variable scopes.
</div>
<div id="defining-functions" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Defining Functions<a href="functions.html#defining-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Defining a function in R follows a syntax similar to variable assignments or conditional statements. We start with an identifier (e.g., <code>add_one</code>) on the left of an assignment operator (<code>&lt;-</code>).</p>
<p>The body of the function follows, beginning with the keyword function, the <strong>parameter(s)</strong> enclosed in parentheses (e.g., <code>input_value</code>), and the function’s body within curly braces. The value of the last executed statement is automatically returned:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="functions.html#cb146-1" tabindex="-1"></a>add_one <span class="ot">&lt;-</span> <span class="cf">function</span> (input_value) {</span>
<span id="cb146-2"><a href="functions.html#cb146-2" tabindex="-1"></a>  output_value <span class="ot">&lt;-</span> input_value <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb146-3"><a href="functions.html#cb146-3" tabindex="-1"></a>  <span class="fu">return</span>(output_value) <span class="co"># Explicit return</span></span>
<span id="cb146-4"><a href="functions.html#cb146-4" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="functions.html#cb147-1" tabindex="-1"></a><span class="fu">add_one</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Call this function by specifying its <strong>identifier</strong> and the necessary parameter(s). For instance, in our example <code>add_one(3)</code> returns <code>4</code>.</p>
<div id="understanding-the-return-function" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Understanding the <code>return()</code> Function<a href="functions.html#understanding-the-return-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In R, functions automatically return the value of the last expression evaluated. The decision to use the <code>return()</code> function explicitly or rely on implicit return is often guided by the specific context of your work, especially in fields like GIS.</p>
<p><strong>Implicit Return:</strong></p>
<p>In R, if <code>return()</code> is not explicitly used, the function returns the result of the last line of code executed. This is often sufficient, especially in simpler functions. For example:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="functions.html#cb149-1" tabindex="-1"></a>add_one <span class="ot">&lt;-</span> <span class="cf">function</span> (input_value) {</span>
<span id="cb149-2"><a href="functions.html#cb149-2" tabindex="-1"></a>  input_value <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb149-3"><a href="functions.html#cb149-3" tabindex="-1"></a>}</span>
<span id="cb149-4"><a href="functions.html#cb149-4" tabindex="-1"></a><span class="fu">add_one</span>(<span class="dv">3</span>)  <span class="co"># Returns 4</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p><strong>Explicit Return:</strong></p>
<p>Using <code>return()</code>, you can explicitly specify what the function should return. This approach is particularly useful when the function has complex logic, or when you need to return a value before reaching the end of the function. For example:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="functions.html#cb151-1" tabindex="-1"></a>add_one <span class="ot">&lt;-</span> <span class="cf">function</span> (input_value) {</span>
<span id="cb151-2"><a href="functions.html#cb151-2" tabindex="-1"></a>  result <span class="ot">&lt;-</span> input_value <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb151-3"><a href="functions.html#cb151-3" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb151-4"><a href="functions.html#cb151-4" tabindex="-1"></a>}</span>
<span id="cb151-5"><a href="functions.html#cb151-5" tabindex="-1"></a><span class="fu">add_one</span>(<span class="dv">3</span>)  <span class="co"># Also returns 4</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>In both examples, calling <code>add_one(3)</code> returns 4. The explicit use of <code>return()</code> in the second example provides clarity about the intended output of the function.</p>

<div class="rmdtip">
<p>The choice between implicit and explicit return in R functions can depend on various factors, including the complexity of the function and the coding standards of your team or organization. In GIS and similar fields, it’s important to understand both approaches and adapt to the coding practices of your workplace. Always consider the context and ask, “What is the standard here?”</p>
</div>
<!-- Note from 01.03 for next Review: It might be good, to explain it more througly, see Discussion Forum - Jens about explicit vs. implicit and my answer: https://elearn.unigis.at/mod/forum/discuss.php?d=9284 -->
<p><strong>Early Return Example:</strong></p>
<p>Sometimes, it’s necessary to exit a function early, for instance in error handling:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="functions.html#cb153-1" tabindex="-1"></a>safe_divide <span class="ot">&lt;-</span> <span class="cf">function</span> (numerator, denominator) {</span>
<span id="cb153-2"><a href="functions.html#cb153-2" tabindex="-1"></a>  <span class="cf">if</span> (denominator <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb153-3"><a href="functions.html#cb153-3" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">&quot;Error: Division by zero&quot;</span>)</span>
<span id="cb153-4"><a href="functions.html#cb153-4" tabindex="-1"></a>  }</span>
<span id="cb153-5"><a href="functions.html#cb153-5" tabindex="-1"></a>  numerator <span class="sc">/</span> denominator</span>
<span id="cb153-6"><a href="functions.html#cb153-6" tabindex="-1"></a>}</span>
<span id="cb153-7"><a href="functions.html#cb153-7" tabindex="-1"></a><span class="fu">safe_divide</span>(<span class="dv">10</span>, <span class="dv">0</span>)  <span class="co"># Returns &quot;Error: Division by zero&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;Error: Division by zero&quot;</code></pre>
<p>So, in GIS and data analysis, adapting to the specific requirements of your project and following established coding standards are key to effective and collaborative work.</p>
</div>
</div>
<div id="more-parameters" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> More Parameters<a href="functions.html#more-parameters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Functions can have multiple parameters, separated by commas.</p>
<blockquote>
<p>A function expects as many input values as there are parameters specified in its definition; otherwise, an error is triggered.</p>
</blockquote>
<p>The <code>area_rectangle</code> function includes two parameters (<code>height</code> and <code>width</code>), calculates the area by multiplying the inputs, and returns the area as a numeric value:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="functions.html#cb155-1" tabindex="-1"></a>area_rectangle <span class="ot">&lt;-</span> <span class="cf">function</span> (height, width) {</span>
<span id="cb155-2"><a href="functions.html#cb155-2" tabindex="-1"></a>  <span class="fu">return</span>(height <span class="sc">*</span> width)</span>
<span id="cb155-3"><a href="functions.html#cb155-3" tabindex="-1"></a>}</span>
<span id="cb155-4"><a href="functions.html#cb155-4" tabindex="-1"></a><span class="fu">area_rectangle</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>

<div class="rmdtip">
<p>Default parameters can enhance a function’s flexibility. For instance, you can modify the <code>area_rectangle</code> function parameters as <code>(height, width = 3)</code>. Now, with only one input, the function should return <code>YOUR INPUT * 3</code>. Specifying both parameters overrides the default <code>width</code>. Here’s how it looks:</p>
</div>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="functions.html#cb157-1" tabindex="-1"></a>area_rectangle <span class="ot">&lt;-</span> <span class="cf">function</span> (height, <span class="at">width =</span> <span class="dv">3</span>) {</span>
<span id="cb157-2"><a href="functions.html#cb157-2" tabindex="-1"></a>  <span class="fu">return</span>(height <span class="sc">*</span> width)</span>
<span id="cb157-3"><a href="functions.html#cb157-3" tabindex="-1"></a>}</span>
<span id="cb157-4"><a href="functions.html#cb157-4" tabindex="-1"></a></span>
<span id="cb157-5"><a href="functions.html#cb157-5" tabindex="-1"></a><span class="co"># Calling with one parameter uses the default width of 3</span></span>
<span id="cb157-6"><a href="functions.html#cb157-6" tabindex="-1"></a><span class="fu">area_rectangle</span>(<span class="dv">3</span>)  <span class="co"># Returns 9</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="functions.html#cb159-1" tabindex="-1"></a><span class="co"># Calling with two parameters uses the specified width</span></span>
<span id="cb159-2"><a href="functions.html#cb159-2" tabindex="-1"></a><span class="fu">area_rectangle</span>(<span class="dv">3</span>, <span class="dv">2</span>)  <span class="co"># Returns 6</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>This approach allows the function to be more flexible and adaptable to different use cases.</p>
</div>
<div id="returning-multiple-values" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Returning Multiple Values<a href="functions.html#returning-multiple-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To return multiple values from a function, encapsulate them in a list. For example, <code>rectangle_metrics</code> calculates and returns both the <code>area</code> and <code>perimeter</code> of a rectangle:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="functions.html#cb161-1" tabindex="-1"></a>rectangle_metrics <span class="ot">&lt;-</span> <span class="cf">function</span> (height, width) {</span>
<span id="cb161-2"><a href="functions.html#cb161-2" tabindex="-1"></a>  area <span class="ot">&lt;-</span> height <span class="sc">*</span> width</span>
<span id="cb161-3"><a href="functions.html#cb161-3" tabindex="-1"></a>  perimeter <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> (height <span class="sc">+</span> width)</span>
<span id="cb161-4"><a href="functions.html#cb161-4" tabindex="-1"></a>  </span>
<span id="cb161-5"><a href="functions.html#cb161-5" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">area =</span> area, <span class="at">perimeter =</span> perimeter))</span>
<span id="cb161-6"><a href="functions.html#cb161-6" tabindex="-1"></a>}</span></code></pre></div>
<p>Retrieve these values using list indices <code>[[1]]</code> and <code>[[2]]</code>, or by simply using their names:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="functions.html#cb162-1" tabindex="-1"></a>metrics <span class="ot">&lt;-</span> <span class="fu">rectangle_metrics</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb162-2"><a href="functions.html#cb162-2" tabindex="-1"></a></span>
<span id="cb162-3"><a href="functions.html#cb162-3" tabindex="-1"></a><span class="co"># Using list indices</span></span>
<span id="cb162-4"><a href="functions.html#cb162-4" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Area (list index): &quot;</span>, metrics[[<span class="dv">1</span>]], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Area (list index):  6</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="functions.html#cb164-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Perimeter (list index): &quot;</span>, metrics[[<span class="dv">2</span>]], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Perimeter (list index):  10</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="functions.html#cb166-1" tabindex="-1"></a><span class="co"># Using names</span></span>
<span id="cb166-2"><a href="functions.html#cb166-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Area (name): &quot;</span>, metrics<span class="sc">$</span>area, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Area (name):  6</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="functions.html#cb168-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Perimeter (name): &quot;</span>, metrics<span class="sc">$</span>perimeter, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Perimeter (name):  10</code></pre>

<div class="rmdtip">
Upon defining a function in R, it appears in the Environment Window of RStudio, similar to a variable. When invoked, the R interpreter executes the function stored in memory.
</div>
</div>
<div id="functions-and-control-structures" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Functions and Control Structures<a href="functions.html#functions-and-control-structures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Functions can contain loops and conditional statements. Here’s a function that uses a loop to calculate the factorial of a number (e.g., factorial of 3 = 1 * 2 * 3 = 6):</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="functions.html#cb170-1" tabindex="-1"></a>factorial <span class="ot">&lt;-</span> <span class="cf">function</span> (input_value) {</span>
<span id="cb170-2"><a href="functions.html#cb170-2" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb170-3"><a href="functions.html#cb170-3" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>input_value) {</span>
<span id="cb170-4"><a href="functions.html#cb170-4" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Current:&quot;</span>, result, <span class="st">&quot; | i:&quot;</span>, i, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb170-5"><a href="functions.html#cb170-5" tabindex="-1"></a>    result <span class="ot">&lt;-</span> result <span class="sc">*</span> i</span>
<span id="cb170-6"><a href="functions.html#cb170-6" tabindex="-1"></a>  }</span>
<span id="cb170-7"><a href="functions.html#cb170-7" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb170-8"><a href="functions.html#cb170-8" tabindex="-1"></a>}</span>
<span id="cb170-9"><a href="functions.html#cb170-9" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## Current: 1  | i: 1 
## Current: 1  | i: 2 
## Current: 2  | i: 3</code></pre>
<pre><code>## [1] 6</code></pre>
<p>The function takes a single numeric value as input, defines a variable named <code>result</code> that is equal to ‘1’ and then creates a loop over all the numbers from 1 (variable <code>result</code>) to the <code>input_value</code>. In the loop, the current value of <code>result</code> is multiplied by the value of the iterator <code>i</code>.</p>

<div class="rmdtip">
Though technically possible, defining a function within loops or conditional statements is generally avoided.
</div>
</div>
<div id="scope" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Scope<a href="functions.html#scope" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Function parameters are internal variables acting as a bridge between the function and its environment. They are ‘visible’ only within the function’s scope.</p>
<blockquote>
<p>The scope of a variable refers to the code region where the variable is accessible.</p>
</blockquote>
<p>Understanding scope is crucial for several reasons:</p>
<ul>
<li><strong>Avoiding Variable Conflicts:</strong> Variables with the same name can exist in different scopes without conflicting with each other. This prevents unexpected behavior caused by variable name overlaps.</li>
<li><strong>Predictable Behavior:</strong> Knowing whether a variable is global or local helps predict its behavior and influence within your script. It clarifies where and how variables can be accessed or modified.</li>
<li><strong>Resource Management:</strong> Local variables are often cleared from memory once the function execution is complete, aiding in efficient resource management in larger scripts or applications.</li>
</ul>
<p>In R, the scope of variables is defined as follows:</p>
<ul>
<li><strong>Global Variables:</strong> Defined outside of any function and accessible anywhere in the script, including within functions.</li>
<li><strong>Local Variables:</strong> Defined within a function and accessible only in that function’s scope. This includes function parameters, which act as internal variables bridging the function and its environment.</li>
</ul>
<p>In the following example, <code>x_value</code> is a global variable, while <code>new_value</code> and <code>input_value</code> are local to the <code>times_x</code> function. Accessing <code>new_value</code> or <code>input_value</code> outside <code>times_x</code> would result in an error, but <code>x_value</code> can be referred to within the function:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="functions.html#cb173-1" tabindex="-1"></a>x_value <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb173-2"><a href="functions.html#cb173-2" tabindex="-1"></a>times_x <span class="ot">&lt;-</span> <span class="cf">function</span> (input_value) {</span>
<span id="cb173-3"><a href="functions.html#cb173-3" tabindex="-1"></a>  new_value <span class="ot">&lt;-</span> input_value <span class="sc">*</span> x_value</span>
<span id="cb173-4"><a href="functions.html#cb173-4" tabindex="-1"></a>  <span class="fu">return</span>(new_value)</span>
<span id="cb173-5"><a href="functions.html#cb173-5" tabindex="-1"></a>}</span>
<span id="cb173-6"><a href="functions.html#cb173-6" tabindex="-1"></a><span class="fu">times_x</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<p>Understanding these distinctions is essential for writing robust and error-free R code, especially in more complex data analysis or GIS projects.</p>

<div class="rmdexercise">
<p>Referring to external global variables in a function is possible but can be dangerous. At the time of execution, one cannot be sure what the value of the global variable is. For instance, other processes might have changed its value, which affects the behavior of the function. In order to fix this problem, define the variable <code>x_value</code> as a default attribute of function <code>times_x</code>.</p>
<details closed>
<summary>
<ins>
<strong>See solution!</strong>
</ins>
</summary>
<p>
<p><i><font color="grey"></p>
<p>times_x &lt;- function (input_value, x_value = 10) {
return(input_value * x_value)
}</p>
</font></i>
</p>
</details>
</div>

<div class="rmdtip">
<p>These lessons have introduced fundamental R programming concepts. The <a href="https://github.com/rstudio/cheatsheets/blob/main/base-r.pdf" target="_blank">Base R Cheatsheet</a> offers a concise summary of key operations.</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="control-structures.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="datman.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
